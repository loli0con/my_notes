# MySQL

## 变种
* Drizzle：可用性增强，但很多地方不兼容
* MariaDB：Mysql之父在mysql被收购时创立，是Mysql的超集，完全兼容
* Percona：性能增强，《高性能Mysql》的作者创立
* Postgre：稳定性极强，抗压；数据类型丰富
* SQLite：小巧，嵌入式

## 目录
* MySQL软件配置与维护
  * [MySQL8程序](MySQL8程序.md)
  * [配置文件](配置文件.md)
  * [主要目录](主要目录.md)
  * [默认数据库](默认数据库.md)
* MySQL架构
  * [逻辑架构](逻辑架构.md)
  * [SQL执行流程](SQL执行流程.md)
    * [执行阶段耗时分析profiling](profiling.md)
  * [数据库缓冲池](数据库缓冲池.md)
* InnoDB的索引结构与存储结构
  * InnoDB的索引结构
    * [索引的概述](索引的概述.md)
      * [什么是索引](索引的概述.md#什么是索引)
      * [为什么使用索引](索引的概述.md#为什么使用索引)
      * [索引的优缺点](索引的概述.md#索引的优缺点)
    * [索引的详解](索引的详解.md)
        * [索引的推演](索引的详解.md#索引的推演)
        * [聚簇索引和二级索引](索引的详解.md#聚簇索引和二级索引)
          * [聚簇索引](索引的详解.md#聚簇索引)
          * [二级索引](索引的详解.md#二级索引辅助索引非聚簇索引)
            * [回表](索引的详解.md#回表)
          * [聚簇索引和二级索引的区别](索引的详解.md#区别)
        * [联合索引](索引的详解.md#联合索引)
        * [索引的注意事项](索引的详解.md#索引的注意事项)
          1. [根页面位置万年不动](索引的详解.md#1-根页面位置万年不动)
          2. [内节点非叶子节点中目录项记录的唯一性](索引的详解.md#2-内节点非叶子节点中目录项记录的唯一性)
          3. [一个页面最少存储2条记录](索引的详解.md#3-一个页面最少存储2条记录)
        * [MyISAM中的索引方案](索引的详解.md#MyISAM中的索引方案)
          * [MyISAM索引的原理](索引的详解.md#MyISAM索引的原理)
          * [MyISAM与InnoDB对比](索引的详解.md#MyISAM与InnoDB对比)
  * [InnoDB的存储结构](InnoDB的存储结构.md)
    * 页结构
      * [页结构概述](InnoDB的存储结构.md#页结构概述)
        * [页的大小](InnoDB的存储结构.md#页的大小)
        * [页的上层结构](InnoDB的存储结构.md#页的上层结构)
      * [页的内部结构](InnoDB的存储结构.md#页的内部结构)
        1. [文件头 & 文件尾](InnoDB的存储结构.md#第一部分文件头file-header-文件尾file-tailer)
        2. [空闲空间 & 用户记录 & 最大最小记录](InnoDB的存储结构.md#第二部分空闲空间free-space-用户记录user-records-最大最小记录)
        3. [页目录 & 页面头部](InnoDB的存储结构.md#第三部分页目录page-directory-页面头部page-header)
    * [行格式](InnoDB的存储结构.md#innodb行格式)
      * [COMPACT行格式](InnoDB的存储结构.md#COMPACT行格式)
        * [变长字段长度列表](InnoDB的存储结构.md#变长字段长度列表)
        * [NULL值列表](InnoDB的存储结构.md#null值列表)
        * [记录头信息](InnoDB的存储结构.md#记录头信息5字节)
        * [记录的真实数据](InnoDB的存储结构.md#记录的真实数据)
      * [行溢出](InnoDB的存储结构.md#行溢出)
      * [其它行格式](InnoDB的存储结构.md#其他行格式)
        * [Dynamic和Compressed](InnoDB的存储结构.md#dynamic和compressed)
        * [Redundant](InnoDB的存储结构.md#redundant)
    * [区、段与碎片区](InnoDB的存储结构.md#区段与碎片区)
      * [为什么要有区？](InnoDB的存储结构.md#为什么要有区)
      * [为什么要有段？](InnoDB的存储结构.md#为什么要有段)
      * [为什么要有碎片区？](InnoDB的存储结构.md#为什么要有碎片区)
      * [区的分类](InnoDB的存储结构.md#区的分类)
    * [表空间](InnoDB的存储结构.md#表空间)
      * [独立表空间](InnoDB的存储结构.md#独立表空间)
      * [系统表空间](InnoDB的存储结构.md#系统表空间)
    * [数据页加载的三种方式](InnoDB的存储结构.md#数据页加载的三种方式)
* 索引的使用与数据库调优
  * [索引的使用](索引的使用.md)
    * [索引的分类](索引的使用.md#索引的分类)
    * [索引的基本用法](索引的使用.md#基本用法)
      * [创建索引](索引的使用.md#创建索引)
      * [删除索引](索引的使用.md#删除索引)
      * [隐藏索引](索引的使用.md#隐藏索引)
    * [索引的设计原则](索引的使用.md#索引的设计原则)
      * [适合创建索引的情况](索引的使用.md#适合创建索引的情况)
      * [不适合创建索引的情况](索引的使用.md#不适合创建索引的情况)
    * [索引失效案例](索引的使用.md#索引失效案例)
  * [性能分析工具的使用](性能分析工具的使用.md)
    * [数据库服务器的优化步骤](性能分析工具的使用.md#数据库服务器的优化步骤)
    * [查看系统性能参数](性能分析工具的使用.md#查看系统性能参数)
    * [统计SQL的查询成本](性能分析工具的使用.md#统计sql的查询成本last_query_cost)
    * [定位执行慢的SQL](性能分析工具的使用.md#定位执行慢的sql慢查询日志)
    * [分析查询语句](性能分析工具的使用.md#分析查询语句explain)
    * [分析优化器执行计划](性能分析工具的使用.md#分析优化器执行计划trace)
    * [MySQL监控分析视图](性能分析工具的使用.md#mysql监控分析视图-sys-schema)
  * [逻辑查询优化](逻辑查询优化.md)
    * [关联查询优化](逻辑查询优化.md#关联查询优化)
      * [外连接](逻辑查询优化.md#外连接)
      * [内连接](逻辑查询优化.md#内连接)
      * [JOIN的底层原理](逻辑查询优化.md#JOIN的底层原理)
        * [驱动表和被驱动表](逻辑查询优化.md#驱动表和被驱动表)
        * [Simple Nested-Loop Join（简单嵌套循环连接）](逻辑查询优化.md#simple-nested-loop-join简单嵌套循环连接)
        * [Index Nested-Loop Join（索引嵌套循环连接）](逻辑查询优化.md#index-nested-loop-join索引嵌套循环连接)
        * [Block Nested-Loop Join（块嵌套循环连接）](逻辑查询优化.md#block-nested-loop-join块嵌套循环连接)
        * [Hash Join](逻辑查询优化.md#hash-join)
    * [子查询优化](逻辑查询优化.md#子查询优化)
    * [排序优化](逻辑查询优化.md#排序优化)
      * [双路排序](逻辑查询优化.md#双路排序-慢)
      * [单路排序](逻辑查询优化.md#单路排序-快)
    * [GROUP BY优化](逻辑查询优化.md#group-by优化)
    * [分页查询优化](逻辑查询优化.md#分页查询优化)
    * [覆盖索引](逻辑查询优化.md#覆盖索引)
    * [前缀索引](逻辑查询优化.md#前缀索引)
    * [索引下推](逻辑查询优化.md#索引下推)
    * [唯一索引和普通索引](逻辑查询优化.md#唯一索引和普通索引)
    * [其它查询优化策略](逻辑查询优化.md#其它查询优化策略)
      * [EXISTS和IN](逻辑查询优化.md#EXISTS和IN)
      * [COUNT(*)与COUNT(具体字段)](逻辑查询优化.md#count与count具体字段)
      * [关于SELECT(*)](逻辑查询优化.md#关于select)
      * [`LIMIT 1`对优化的影响](逻辑查询优化.md#limit-1-对优化的影响)
      * [多使用COMMIT](逻辑查询优化.md#多使用COMMIT)
  * [数据库调优策略](数据库调优策略.md)
    * [调优策略概述](数据库调优策略.md#调优策略概述)
      * [调优的目标](数据库调优策略.md#调优的目标)
      * [如何定位调优问题](数据库调优策略.md#如何定位调优问题)
      * [调优的维度和步骤](数据库调优策略.md#调优的维度和步骤)
        1. [选择适合的DBMS](数据库调优策略.md#第1步选择适合的dbms)
        2. [优化表设计](数据库调优策略.md#第2步优化表设计)
        3. [优化逻辑查询](数据库调优策略.md#第3步优化逻辑查询)
        4. [优化物理查询](数据库调优策略.md#第4步优化物理查询)
        5. [使用Redis作为缓存](数据库调优策略.md#第5步使用Redis作为缓存)
        6. [库级优化](数据库调优策略.md#第6步库级优化)
          * [读写分离](数据库调优策略.md#读写分离)
          * [数据分片](数据库调优策略.md#数据分片)
    * [优化MySQL服务器](数据库调优策略.md#优化MySQL服务器)
      * [优化服务器硬件](数据库调优策略.md#优化服务器硬件)
      * [优化MySQL的参数](数据库调优策略.md#优化MySQL的参数)
    * [优化数据库结构](数据库调优策略.md#优化数据库结构)
      * [冷热数据分离](数据库调优策略.md#表拆分冷热数据分离)
      * [增加中间表](数据库调优策略.md#增加中间表)
      * [增加冗余字段](数据库调优策略.md#)
      * [优化数据类型](数据库调优策略.md#优化数据类型)
      * [优化插入记录的速度](数据库调优策略.md#优化插入记录的速度)
        * [MyISAM引擎的表](数据库调优策略.md#MyISAM引擎的表)
          * [禁用索引](数据库调优策略.md#禁用索引)
          * [禁用唯一性检查](数据库调优策略.md#禁用唯一性检查)
          * [使用批量插入](数据库调优策略.md#使用批量插入)
          * [使用`LOAD DATA INFILE`批量导入](数据库调优策略.md#使用load-data-infile批量导入)
        * [InnoDB引擎的表](数据库调优策略.md#InnoDB引擎的表)
          * [禁用外键检查](数据库调优策略.md#禁用外键检查)
          * [禁止自动提交](数据库调优策略.md#禁止自动提交)
      * [使用非空约束](数据库调优策略.md#使用非空约束)
      * [分析表、检查表与优化表](数据库调优策略.md#分析表检查表与优化表)
        * [分析表](数据库调优策略.md#分析表)
        * [检查表](数据库调优策略.md#检查表)
        * [优化表](数据库调优策略.md#优化表)
    * [大表优化](数据库调优策略.md#大表优化)
      * [限定查询的范围](数据库调优策略.md#限定查询的范围)
      * [读写分离](数据库调优策略.md#主写从读)
      * [垂直拆分](数据库调优策略.md#垂直拆分)
      * [水平拆分](数据库调优策略.md#水平拆分)
    * [其它调优策略](数据库调优策略.md#其它调优策略)
      * [服务器语句超时处理](数据库调优策略.md#服务器语句超时处理)
      * [创建全局通用表空间](数据库调优策略.md#创建全局通用表空间)
      * [隐藏索引对调优的帮助](数据库调优策略.md#隐藏索引对调优的帮助)
* [数据库范式](数据库范式.md)
* [事务基础知识](事务基础知识.md)
* [MySQL事务日志](MySQL事务日志.md)
* [锁](锁.md)
* [多版本并发控制](多版本并发控制.md)
* [其他数据库日志](其他数据库日志.md)
* [主从复制](主从复制.md)
* [数据备份与恢复](数据备份与恢复.md)